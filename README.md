# **Var Mod**

![Var Mod](https://i.imgur.com/eP5FUcS.png)

## **Описание**

Various Modification (сокращённо Var Mod), также известный как TrashMachina или Ex Randomina, является первым и, пока что, единственным модом для Ex Machina, вносящим в ваш геймплей элемент случайности.

Для достижения подобного эффекта была создана специальная программа, которая в зависимости от ваших настроек рандомизирует тот или иной геймплейный элемент.

Пока что программа находится в стадии бета-теста, но основные её функции прекрасно работают.

Огромная благодарность выражается товарищам [Seel](https://github.com/Zvetkov) и [ThePlain](https://github.com/ThePlain) за неоценимую помощь и частичное участие в разработке.

## **Установка**
**ВАЖНО!** Программа работает только на Windows 10 и 11 64bit.

1. Скачайте последний релиз [отсюда](https://github.com/zatinu322/Var-Mod-Trash-Machina/releases).
2. **Обязательно** распакуйте архив в любую директорию.
3. Запустите _randomizer.exe_ и следуйте инструкциям внутри него.

**ВАЖНО!** Если вы хотите рандомизировать нелицензионную версию Ex Machina, то переименуйте исполняемый файл игры в "hta.exe".
Однако следует осознавать, что техническая поддержка в подобном случае оказываться не будет, а опции, связанные с рандомизацией исполняемого файла, будут принудительно отключены.

Помимо прочего, некоторые антивирусы могут распознать исполняемый файл программы как вредоносный. К сожалению, полностью исправить эту проблему невозможно.

Вот ссылка на [VirusTotal](https://www.virustotal.com/gui/file/45253605eedff58f39a007d7ba4867df98debd5173726af68f59ed80edc48ad4), где этот файл успешно прошёл проверку большинства антивирусных систем.

В случае сомнений в моей порядочности, исходный код программы вы можете найти в бранче _randomizer-source_.

## **Настройка**
### 1. **Путь**
Сначала укажите корневую директорию с установленной игрой. 
### 2. **Параметры рандомизации**
![Параметры рандомизации](https://i.imgur.com/CcugHUg.png)
Затем выберите те опции, которые хотите рандомизировать. Для применения ваших настроек **обязательно** нажмите на кнопку "Применить" справа внизу.

Для большего удобства опции разделены на категории. 

Красным цветом отмечены опции, которые теоретически могут вызвать софтлок и сделать дальнейшее прохождение игры невозможным.

Синим цветом отмечены опции, которые рандомизируют игру на уровне внутренних lua-скриптов. Это означает, что каждый раз одна и та же катсцена и один и тот же игровой враг будут выглядеть по-другому.

**Сбросить Lua** - отменяет динамический рандом, если он до этого был вами включен.

**Debug-режим** - вывод в лог информации о каждом действии, которое производит рандомайзер. Для обычного пользователя не нужно. Используется для отправки баг-репортов.

**ВНИМАНИЕ!** По техническим причинам функция рандомизации FOV для Community Remaster временно отключена.

### 3. **Версия игры**
Затем выберите версию игры. Пока что поддерживаются только лицензия Steam 1.02 и Improved Storyline. В дальнейшем будет введена поддержка Community Patch и Community Remaster.

Если вы случайно выбрали не ту версию, в большинстве случаев рандомайзер обнаружит несоответсвие и сообщит вам, что вы не правы.
### 4. **Начните рандомизацию**
Нажмите на кнопку "Начать рандомизацию" и программа сделает всё, что нужно.

Если в процессе работы рандомайзера возникли ошибки, вы получите уведомление об этом.

Более подробно с возникшими проблемами вы можете ознакомиться в файле _randomizer.log_, который будет создан (или перезаписан, если вы запускаете рандомайзер не первый раз) в директории с программой.
## **Конфигурация**
В папке resources/manifests, необходимой для работы рандомайзера, находятся файлы формата *.yaml, которые служат его конфигом. В нём содержатся списки файлов по категориям в порядке, аналогичном их расположению в окне параметров рандомизации.

**ВАЖНО!** Настоятельно не рекомендую ничего в нём менять, если вы понятия не имеете, что такое YAML и как с ним работать.

## **Заключение**
Больше контента по Ex Machina вы можете найти здесь:
1. [Мой Discord](https://discord.gg/sPrGBP9aFd)
2. [Мой YouTube](https://www.youtube.com/user/rpggameland)
3. [Discord DEM](https://discord.gg/qKK2Efx)